    scale = get_config("scale")
    offset = get_config("offset")
    s = get_state("lastPublishedValue")
    print(s)
    set_state("lastPublishedValue", s + 1)
    value = get_current_value()
    set_output("read", value * scale + offset)
